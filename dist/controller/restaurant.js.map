{"version":3,"sources":["../../src/controller/restaurant.js"],"names":["config","db","api","post","req","res","newRest","name","body","save","err","send","json","message","get","find","restaurants"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;kBAEc,gBAAkB;AAAA,QAAhBA,MAAgB,QAAhBA,MAAgB;AAAA,QAARC,EAAQ,QAARA,EAAQ;;AAC5B,QAAIC,MAAM,sBAAV;;AAGA;AACA;AACAA,QAAIC,IAAJ,CAAS,MAAT,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3B,YAAIC,UAAU,0BAAd;AACAA,gBAAQC,IAAR,GAAeH,IAAII,IAAJ,CAASD,IAAxB;;AAEAD,gBAAQG,IAAR,CAAa,eAAO;AAChB,gBAAIC,GAAJ,EAAS;AACLL,oBAAIM,IAAJ,CAASD,GAAT;AACH;AACDL,gBAAIO,IAAJ,CAAS,EAACC,SAAS,OAAV,EAAT;AACH,SALD;AAMH,KAVD;;AAYA;AACA;AACAX,QAAIY,GAAJ,CAAQ,GAAR,EAAa,UAACV,GAAD,EAAMC,GAAN,EAAc;AACvB,6BAAWU,IAAX,CAAgB,EAAhB,EAAoB,UAACL,GAAD,EAAMM,WAAN,EAAsB;AACtC,gBAAIN,GAAJ,EAAS;AACLL,oBAAIM,IAAJ,CAASD,GAAT;AACH;AACDL,gBAAIO,IAAJ,CAASI,WAAT;AACH,SALD;AAMH,KAPD;;AASA,WAAOd,GAAP;AAEH,C","file":"restaurant.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport Restaurant from '../model/restaurant';\n\nexport default({config, db}) => {\n    let api = Router();\n\n\n    //CREATE\n    // 'v1/restaurant/add'\n    api.post('/add', (req, res) => {\n        let newRest = new Restaurant();\n        newRest.name = req.body.name;\n\n        newRest.save(err => {\n            if (err) {\n                res.send(err)\n            }\n            res.json({message: 'Saved'});\n        });\n    });\n\n    //GET - READ\n    //v1/resturant\n    api.get('/', (req, res) => {\n        Restaurant.find({}, (err, restaurants) => {\n            if (err) {\n                res.send(err);\n            }\n            res.json(restaurants)\n        });\n    });\n\n    return api;\n\n}"]}