{"version":3,"sources":["../../src/controller/question.js"],"names":["config","db","api","post","req","res","newQuestion","question","body","correctAnswer","answer","answers","forEach","console","log","element","push","save","err","send","json","message"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;kBAEe,gBAAkB;AAAA,QAAhBA,MAAgB,QAAhBA,MAAgB;AAAA,QAARC,EAAQ,QAARA,EAAQ;;AAC7B,QAAIC,MAAM,sBAAV;;AAEA;AACA;;AAEA;AACAA,QAAIC,IAAJ,CAAS,MAAT,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;;AAE3B;AACA,YAAIC,cAAc,wBAAlB;AACAA,oBAAYC,QAAZ,GAAuBH,IAAII,IAAJ,CAASD,QAAhC;AACAD,oBAAYG,aAAZ,GAA4BL,IAAII,IAAJ,CAASE,MAArC;;AAEA;AACAN,YAAII,IAAJ,CAASG,OAAT,CAAiBC,OAAjB,CAAyB,mBAAW;AAChCC,oBAAQC,GAAR,CAAYC,QAAQL,MAApB;AACAJ,wBAAYK,OAAZ,CAAoBK,IAApB,CAAyBD,OAAzB;AACH,SAHD;;AAKA;AACA;AACAT,oBAAYW,IAAZ,CAAiB,eAAO;AACpB,gBAAIC,GAAJ,EAAS;AACLb,oBAAIc,IAAJ,CAASD,GAAT;AACH;AACDb,gBAAIe,IAAJ,CAAS,EAACC,SAAS,gBAAV,EAAT;AACH,SALD;AAOH,KAtBD;AAuBA,WAAOnB,GAAP;AACH,C","file":"question.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport Question from '../model/question';\n\nexport default ({config, db}) => {\n    let api = Router();\n\n    //CREATE - Post a question\n    // ' v1/questions/add\n    \n    // Handling arrays or lists - https://stackoverflow.com/questions/28764822/req-body-cant-be-read-as-an-array\n    api.post('/add', (req, res) => {\n\n        //created new question\n        let newQuestion = new Question();\n        newQuestion.question = req.body.question;\n        newQuestion.correctAnswer = req.body.answer;\n    \n        //loop over array and push each elemen onto the mongoose schema    \n        req.body.answers.forEach(element => {\n            console.log(element.answer)\n            newQuestion.answers.push(element);\n        });\n\n        // console.log(JSON.stringify(newQuestion));\n        //save and return message\n        newQuestion.save(err => {\n            if (err) {\n                res.send(err)\n            }\n            res.json({message: 'Question Saved'});\n        });\n    \n    });\n    return api;\n};"]}