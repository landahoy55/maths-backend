{"version":3,"sources":["../../src/controller/topic.js"],"names":["config","db","api","get","req","res","find","populate","exec","err","topic","send","console","log","JSON","stringify","json"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;kBAEe,gBAAkB;AAAA,QAAhBA,MAAgB,QAAhBA,MAAgB;AAAA,QAARC,EAAQ,QAARA,EAAQ;;AAC7B,QAAIC,MAAM,sBAAV;;AAEA;AACA;AACA;;AAEA;;AAEA;AACAA,QAAIC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wBAAMC,IAAN,CAAW,EAAX,EAAeC,QAAf,CAAwB,WAAxB,EAAqCC,IAArC,CACI,UAASC,GAAT,EAAcC,KAAd,EAAqB;AACjB,gBAAID,GAAJ,EAAS;AACLJ,oBAAIM,IAAJ,CAASF,GAAT;AACH;AACDG,oBAAQC,GAAR,CAAYC,KAAKC,SAAL,CAAeL,KAAf,CAAZ;AACAL,gBAAIW,IAAJ,CAASN,KAAT;AACH,SAPL;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAlCD;AAmCA,WAAOR,GAAP;AACH,C","file":"topic.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport Topic from '../model/topic';\n\nexport default ({config, db}) => {\n    let api = Router();\n\n    // // v1/topics/\n    // //GET a topic by title\n    // api.get('/get/:title', (req, res) => {\n\n    // });\n\n    // //GET all topics\n    api.get('/', (req, res) => {\n\n        // Topic.findOne({title:'Numbers'})\n        //     // .populate('subTopics')\n        //     .exec({\n        //         function (err, topic) {\n        //             if (err) {\n        //                 res.send(err);\n        //             }\n        //             console.log(JSON.stringify(topic));\n        //             res.json(topic)\n        //         }\n        //     });\n\n        //TODO: Reinsert data via Mongoose.\n        //Schema can't match schemaless docs.\n\n        Topic.find({}).populate('subTopics').exec(\n            function(err, topic) {\n                if (err) {\n                    res.send(err)\n                }\n                console.log(JSON.stringify(topic));\n                res.json(topic);\n            }\n        );\n\n        // Topic.findOne({}, (err, topics) => {\n        //     if (err) {\n        //         res.send(err);\n        //     }\n        //     console.log(JSON.stringify(topics));\n        //     res.json(topics);\n        // });\n    });\n    return api;\n};"]}